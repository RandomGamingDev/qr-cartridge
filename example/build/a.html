<!DOCTYPE html><body/><script>var c=document.createElement("canvas");c.width=200,c.height=200,document.body.appendChild(c);var ctx=c.getContext("2d");ctx.beginPath(),ctx.arc(95,50,40,0,2*Math.PI),ctx.stroke();var context=null,oscillator=null;function getOrCreateContext(){return context||(context=new AudioContext,(oscillator=context.createOscillator()).connect(context.destination)),context}const list=document.getElementById("midi-list"),debugEl=document.getElementById("debug");let isStarted=!1;function changeType(t){oscillator.type=t}const length=2,eps=.01,tetris=[[76,4],[71,8],[72,8],[74,4],[72,8],[71,8],[69,4],[69,8],[72,8],[76,4],[74,8],[72,8],[71,4],[71,8],[72,8],[74,4],[76,4],[72,4],[69,4],[69,4],[0,4],[74,3],[77,8],[81,4],[79,8],[77,8],[76,3],[72,8],[76,4],[74,8],[72,8],[71,4],[71,8],[72,8],[74,4],[76,4],[72,4],[69,4],[69,4],[0,4]];function playTetris(){getOrCreateContext(),oscillator.start(0);var t=context.currentTime+eps;tetris.forEach((e=>{const n=440*Math.pow(2,(e[0]-69)/12);console.log(t),oscillator.frequency.setTargetAtTime(0,t-eps,.001),oscillator.frequency.setTargetAtTime(n,t,.001),t+=2/e[1]}))}let button=document.createElement("button");button.onclick=playTetris,document.body.appendChild(button);</script>